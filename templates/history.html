{% extends "layout.html" %}
{% block title %}History{% endblock %}

{% block content %}

<h2>Your Borrowed Books</h2>

{% if history %}
<div class="grid">
    {% for book in history %}
    <div class="card">
        <img src="{{ book.cover_url }}"
             class="book-cover"
             onerror="this.src='https://via.placeholder.com/200x300?text=No+Cover';">

        <h4>{{ book.title }}</h4>
        <span>{{ book.author }}</span>
        <small>{{ book.category }}</small>
        <small>Borrowed on {{ book.date }}</small>

        <a class="btn1" href="/read/{{ book.id }}">Read</a>
        <a class="btn2" href="/unborrow/{{ book.id }}">Return</a>
    </div>
    {% endfor %}
</div>
{% else %}
<p>You have not borrowed any books yet.</p>
{% endif %}

{% endblock %}